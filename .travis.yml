env:
  global:
    - SWIFT_VERSION=4.2
    - REPOSITORY_URL=https://github.com/matthewfaller/algorithm-practice.git

sudo: required
language: generic
os: linux
dist: trusty
services:
  - docker

stages:
  - name: PullTests
    if: type = pull_request
    script: docker run swift:$SWIFT_VERSION /bin/bash -c "git clone $REPOSITORY_URL && cd algorithm-practice && git checkout $TRAVIS_PULL_REQUEST_SHA && swift test" 
  - name: PushTests
    if: type = push
    script: docker run swift:$SWIFT_VERSION /bin/bash -c "git clone $REPOSITORY_URL && cd algorithm-practice && git checkout $TRAVIS_COMMIT && swift test" 
  


